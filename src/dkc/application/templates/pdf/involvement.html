{% from 'application/involvement.html' import key_club_programs with context %}
{%- macro x_or_empty(val) %}
    {%- if val -%}
        <span class="text-success">[ x ]</span>
    {%- else -%}
        <span class="text-danger">[&nbsp;&nbsp;&nbsp;&nbsp;]</span>
    {%- endif %}
{%- endmacro %}
{%- macro with_default_na(val) -%}
    {{ val or "N/A" }}
{%- endmacro -%}

<div class="page-header">
    <h3>Part 3: Involvement in Key Club Functions</h3>
</div>

<div class="section">
<h6>Section 1: Key Club Week Participation</h6>
<table class="key-club-week-table">
    <tbody>
        <tr>
            <td style="width:120pt;">Monday</td>
            <td style="width:360pt;">{{ with_default_na(application.key_club_week_mon) }}</td>
        </tr>
        <tr>
            <td style="width:120pt;">Tuesday</td>
            <td style="width:360pt;">{{ with_default_na(application.key_club_week_tue) }}</td>
        </tr>
        <tr>
            <td style="width:120pt;">Wednesday</td>
            <td style="width:360pt;">{{ with_default_na(application.key_club_week_wed) }}</td>
        </tr>
        <tr>
            <td style="width:120pt;">Thursday</td>
            <td style="width:360pt;">{{ with_default_na(application.key_club_week_thu) }}</td>
        </tr>
        <tr>
            <td style="width:120pt;">Friday</td>
            <td style="width:360pt;">{{ with_default_na(application.key_club_week_fri) }}</td>
        </tr>
    </tbody>
</table>
</div>

<div class="separator">&nbsp;</div>

<div class="section">
<h6>Section 2: Attendance at Key Club Functions</h6>
<table class="attendance-table">
    <tbody>
        {%- for program in key_club_programs %}
            <tr>
                <td style="width:30pt;">{{ x_or_empty(program.value_dont_change) }}</td>
                <td style="width:450pt;">{{ program.name }}</td>
            </tr>
        {%- endfor %}
    </tbody>
</table>
</div>

<div class="separator">&nbsp;</div>

<div class="section">
<h6>Section 3: Positions Held within Key Club</h6>

{% autoescape false %}
<div class="positions-essay">
    {{ with_default_na(application.positions) | forceescape | replace('\n', '<br>') }}
</div>
{% endautoescape %}
</div>
